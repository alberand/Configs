# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!
# colors
#==============================================================================
set $black          #000000
set $white          #FFFFFF
set $red            #DA5B6D
set $blue           #41A0D0
set $yellow         #DBDB65
set $orange         #DB9154
set $green          #30BD75
set $d_blue         #0A1E27
set $l_text         #ebdbb2
set $cyan           #618485

# Use custom colors for black
set $black       #282828
set $darkblack   #1d2021
set $transparent #00000000

set $height 14

#==============================================================================
# Main settings
#==============================================================================
# Set 'alt' as mod key
set $mod Mod1

# Paathrough mode to use ALT in another apps
mode "passthrough" {
    bindsym $mod+Alt_L mode "default"
}
bindsym $mod+Alt_L mode "passthrough"

# If true window under mouse will be in focus.
focus_follows_mouse false 

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango: Droid Mono Sans 8

# Auto back mode. mod+1 -> mod+1
workspace_auto_back_and_forth yes

# Inner gaps
set $gapsi 5
gaps inner $gapsi
smart_borders no_gaps
hide_edge_borders none

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# Start a terminal
bindsym $mod+Return exec kitty

# Kill focused window
bindsym $mod+Shift+q kill

# Start dmenu (a program launcher)
bindsym $mod+p exec dmenu_run -fn "Monoscape-10" -h 20 -sb "$d_blue" -sf "$orange" -nb "$d_blue" -nf "$white"

# Reload the configuration file
bindsym $mod+Shift+c reload

# Restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart

# Exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

# Add 1 pixel border (Leave it here, without it its looks ugly)
for_window [tiling] border pixel 1
for_window [floating] border normal 3

new_float pixel 1
new_window normal 1

#==============================================================================
# Monipulation with windows
#==============================================================================
# Change focus
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right
bindsym $mod+h focus left

# Alternatively, you can use the cursor keys:
# bindsym $mod+Left focus left
# bindsym $mod+Down focus down
# bindsym $mod+Up focus up
# bindsym $mod+Right focus right

# Move focused window
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right
bindsym $mod+Shift+h move left

# Alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# Split in horizontal orientation
bindsym $mod+i split h

# Split in vertical orientation
bindsym $mod+v split v

# Enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# Change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# Toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# Change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# Focus the parent container
bindsym $mod+a focus parent

# Focus the child container
bindsym $mod+d focus child

# Switch to workspace
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10

# Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace 10

# Move workspace
bindsym $mod+Down move workspace to output down
bindsym $mod+Up move workspace to output up

#==============================================================================
# Resize mode
#==============================================================================
bindsym $mod+r mode "resize"

# Resize window (you can also use the mouse for that)
mode "resize" {
        set $resize 5
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.

        # arrows keys
        bindsym l resize grow width $resize px or $resize ppt
        bindsym k resize grow height $resize px or $resize ppt
        bindsym j resize shrink height $resize px or $resize ppt
        bindsym h resize shrink width $resize px or $resize ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width $resize px or $resize ppt
        bindsym Down resize grow height $resize px or $resize ppt
        bindsym Up resize shrink height $resize px or $resize ppt
        bindsym Right resize grow width $rsize px or $resize ppt

        bindsym Escape mode "default"
}

#==============================================================================
# Gaps
#==============================================================================

# Gaps mode settings
set $mode_gaps Gaps: (o) outer, (i) inner
set $mode_gaps_outer Outer Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_inner Inner Gaps: +|-|0 (local), Shift + +|-|0 (global)
bindsym $mod+Shift+g mode "$mode_gaps"

mode "$mode_gaps" {
    bindsym o      mode "$mode_gaps_outer"
    bindsym i      mode "$mode_gaps_inner"
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

mode "$mode_gaps_inner" {
    bindsym plus  gaps inner current plus 5
    bindsym minus gaps inner current minus 5
    bindsym 0     gaps inner current set 0

    bindsym Shift+plus  gaps inner all plus 5
    bindsym Shift+minus gaps inner all minus 5
    bindsym Shift+0     gaps inner all set 0

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

mode "$mode_gaps_outer" {
    bindsym plus  gaps outer current plus 5
    bindsym minus gaps outer current minus 5
    bindsym 0     gaps outer current set 0

    bindsym Shift+plus  gaps outer all plus 5
    bindsym Shift+minus gaps outer all minus 5
    bindsym Shift+0     gaps outer all set 0

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

#==============================================================================
# Helping
#==============================================================================

# Script for changing keyboard layout
bindsym $mod+x exec --no-startup-id ~/.scripts/system/keylyt

# Backlght controls
bindsym XF86MonBrightnessUp     exec --no-startup-id light -A 5
bindsym XF86MonBrightnessDown   exec --no-startup-id light -U 5

# Volume controls
bindsym XF86AudioRaiseVolume exec --no-startup-id amixer -c 1 set Master 5%+
bindsym XF86AudioLowerVolume exec --no-startup-id amixer -c 1 set Master 5%-
bindsym XF86AudioMute exec --no-startup-id amixer -c 1 set Master toggle

# Screen locking
bindsym $mod+Ctrl+L exec --no-startup-id /usr/local/bin/lock

# Microphone
bindsym XF86AudioMicMute exec --no-startup-id amixer -c 1 set Capture toggle

# Status bar
bar {
    position top
    # status_command i3status | ~/.config/i3status/wraper.py
    # status_command ~/.scripts/system/conky-i3bar
    # status_command i3blocks -c ~/.config/i3blocks/i3blocks.conf | i3bar -t
    status_command i3blocks -c ~/.config/i3blocks/i3blocks.conf
    i3bar_command i3bar -t
    # i3bar_command $(~/.scripts/lemonbar/lemonbar.sh)
    # i3bar_command $(~/Projects/lemonbar/run.sh)
    font pango: Hack, FontAwesome 8
    # strip_workspace_numbers yes
    # tray_output eDP-1
    # tray_output VGA-1
    tray_padding 0
    colors {
        statusline         $white
        background         $transparent
        separator          $transparent

#                          BORDER       BACKGROUND   TEXT
        # focused_workspace  $transparent $transparent $darkwhite
        # inactive_workspace $transparent $transparent $white
        # active_workspace   $transparent $transparent $white
        # urgent_workspace   $darkred     $darkred     $transparent
        # binding_mode       $darkred     $darkred     $transparent
    }
}

# Windows colors
# Class                 # border    # bakcg.    # text  # indic # child
client.focused          $blue       $blue       $d_blue $red    $blue
client.focused_inactive $d_blue     $d_blue     $white  $red    $d_blue
client.unfocused        $d_blue     $d_blue     $white  $red    $d_blue
client.urgent           $d_blue     $d_blue     #ee0000 $red    $d_blue


#==============================================================================
# Fix graphics glitch
#==============================================================================
new_window none

for_window [window_role="arandr"] floating enable
for_window [window_role="pop-up"] floating enable
for_window [window_role="bubble"] floating enable
for_window [window_role="task_dialog"] floating enable
for_window [window_role="Preferences"] floating enable

for_window [window_type="dialog"] floating enable
for_window [window_type="menu"] floating enable

for_window [class="(?i)gsimplecal"] floating enable, move position mouse, move down $height px
for_window [class="(?i)qemu-system"] floating enable
for_window [class="(?i)VirtualBox" title="(?i)Manager"] floating enable
for_window [class="(?i)VirtualBox"] floating enable
for_window [class="(?i)blueman"] floating enable

for_window [instance="__scratchpad"] floating enable
for_window [instance="__nmtui"] floating enable
for_window [class="(?i)recordmydesktop"] floating enable

for_window [class="(?i)pavucontrol"] floating enable, move position mouse
for_window [class="(?i)pavucontrol" instance="pavucontrol-bar"] move down $height px

for_window [class="Shutter"] floating enable
# for_window [class="MATLAB"] floating enable
for_window [class="Anki"] floating enable


#==============================================================================
# Autostart
#==============================================================================
exec --no-startup-id i3-msg 'workspace 10; exec /usr/bin/thunderbird'
exec --no-startup-id i3-msg 'workspace 2; exec /usr/bin/terminator'
exec --no-startup-id i3-msg 'workspace 1; exec /usr/bin/firefox'
exec --no-startup-id dropbox
# Network manager GUI
exec --no-startup-id cmst
# Script which change borders for different modes
exec --no-startup-id ~/.local/bin/i3-floating-titlebar

# Notification center
exec_always --no-startup-id dunst -config ~/.config/dunst/config

# Show the first scratchpad window
bindsym $mod+minus scratchpad show
# Make the currently focused window a scratchpad
bindsym $mod+Shift+minus move scratchpad

# Update multimonitor setup
bindsym $mod+c exec --no-startup-id ~/.scripts/mmonitor.sh
